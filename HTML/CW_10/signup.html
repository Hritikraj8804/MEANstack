<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
    <link rel="stylesheet" href="style1.css">
    <script>

        // var  user = {};
        // var pw = {};

        // function addUser()
        // {
        //     localStorage.setItem('user', user.push(document.getElementById('nameInput').value)) 
        //     localStorage.setItem('pw', pw.push(document.getElementById('pwInput').value))
        // }    

        // Initialize users array if it doesn't exist in localStorage
        if (!localStorage.getItem('users')) {
            localStorage.setItem('users', JSON.stringify([]));
        }

        function addUser() {
            // Get input values
            const name = document.getElementById('nameInput').value.trim();
            const password = document.getElementById('pwInput').value.trim();

            // Validate inputs
            if (!name || !password) {
                alert('Please fill in both fields.');
                return;
            }

            // Retrieve existing users from localStorage
            const users = JSON.parse(localStorage.getItem('users'));

            // Check if the user already exists
            const userExists = users.some(user => user.name === name);
            if (userExists) {
                alert('User already exists!');
                return;
            }

            // Add new user to the array
            users.push({ name: name, password: password });

            // Save updated users array back to localStorage
            localStorage.setItem('users', JSON.stringify(users));

            // Clear input fields
            document.getElementById('nameInput').value = '';
            document.getElementById('pwInput').value = '';

            alert('User added successfully!');
        }
    </script>
</head>
<body>
    <main>
        <div>
            <center>
                <div>
                    <h1>Course-Form</h1>
                </div>
            </center>
            <div>
                <center>
                    <table>
                        <tr>
                            <th>Name:</th>
                            <th><input type="text" placeholder="Name" id="nameInput"></th>
                        </tr>
                        <tr>
                            <th>Password:</th>
                            <th><input type="password" placeholder="Password" id="pwInput"></th>
                        </tr>
                        <tr>
                            <th><input id="btnadd" type="button" value="AddUser" onclick="addUser()"></th>
                        </tr>
                    </table>
                </center>
            </div>
        </div>
    </main>
</body>
</html>